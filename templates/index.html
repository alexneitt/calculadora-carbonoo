<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Tu Huella de Carbono</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        function actualizarTexto() {
            const transporte = document.getElementById('transporte');
            const transporteSeleccionado = transporte.options[transporte.selectedIndex]?.text;
            const labelKm = document.getElementById("label-kilometros");

            if (transporteSeleccionado) {
                labelKm.innerText = `Kil√≥metros semanales usando ${transporteSeleccionado.toLowerCase()}`;
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <section class="card">
            <header>
                <h1>üåø Calcula tu huella</h1>
                <p>Descubre cu√°ntos kilos de CO‚ÇÇ generas cada semana seg√∫n tu transporte.</p>
            </header>

            <form method="POST" class="formulario">
                <div class="grupo">
                    <label for="transporte">Transporte habitual</label>
                    <select id="transporte" name="transporte" onchange="actualizarTexto()" required>
                        <option value="" disabled selected>Selecciona una opci√≥n</option>
                        <option value="Auto">üöó Auto</option>
                        <option value="Moto">üèçÔ∏è Moto</option>
                        <option value="Cami√≥n">üöå Cami√≥n / Autob√∫s</option>
                        <option value="Bicicleta">üö¥‚Äç‚ôÇÔ∏è Bicicleta</option>
                        <option value="Caminar">üö∂ Caminar</option>
                    </select>
                </div>

                <div class="grupo">
                    <label id="label-kilometros" for="kilometros">Kil√≥metros semanales</label>
                    <input type="number" id="kilometros" name="kilometros" required step="0.01" min="0">
                </div>

                <button type="submit">üå± Calcular</button>
            </form>

            {% if resultado is not none %}
                <div class="resultado-box {{ nivel }}">
                    <p>Tu huella semanal es:</p>
                    <span>{{ resultado }} kg de CO‚ÇÇ</span>
                </div>
            {% endif %}
        </section>

        <section class="tabla-section">
            <h2>
                Interpretaci√≥n de niveles
                <span class="help-icon" tabindex="0">?</span>
            </h2>
            <table class="tabla-huella">
                <thead>
                    <tr>
                        <th>Nivel</th>
                        <th>CO‚ÇÇ semanal (kg)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td class="excelente">Excelente</td><td>0 - 5</td></tr>
                    <tr><td class="bueno">Bueno</td><td>5 - 15</td></tr>
                    <tr><td class="regular">Regular</td><td>15 - 25</td></tr>
                    <tr><td class="malo">Malo</td><td>25 - 35</td></tr>
                    <tr><td class="muy-malo">Muy malo</td><td>M√°s de 35</td></tr>
                </tbody>
            </table>
        </section>
    </div>
</body>
</html>
