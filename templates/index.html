<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Huella de Carbono</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function actualizarTexto() {
            const transporte = document.getElementById('transporte');
            const texto = transporte.options[transporte.selectedIndex]?.text || '';
            document.getElementById("label-kilometros").innerText =
                `Kil√≥metros semanales usando ${texto.toLowerCase()}`;
        }
    </script>
</head>
<body>
    <main class="container">
        <section class="card">
            <header>
                <h1>üå± Calculadora de CO‚ÇÇ</h1>
                <p>Ingresa tu medio de transporte y calcula tu huella de carbono semanal.</p>
            </header>

            <form method="POST" class="formulario">
                <div class="grupo">
                    <label for="transporte">Transporte habitual</label>
                    <select id="transporte" name="transporte" onchange="actualizarTexto()" required>
                        <option value="" disabled selected>Selecciona una opci√≥n</option>
                        <option value="Auto">üöó Auto</option>
                        <option value="Moto">üèçÔ∏è Moto</option>
                        <option value="Cami√≥n">üöå Cami√≥n / Autob√∫s</option>
                        <option value="Bicicleta">üö¥‚Äç‚ôÇÔ∏è Bicicleta</option>
                        <option value="Caminar">üö∂ Caminar</option>
                    </select>
                </div>

                <div class="grupo">
                    <label id="label-kilometros" for="kilometros">Kil√≥metros semanales</label>
                    <input type="number" id="kilometros" name="kilometros" required step="0.1" min="0">
                </div>

                <button type="submit">Calcular huella üåç</button>
            </form>

            {% if resultado is not none %}
            <div class="resultado-box {{ nivel }}">
                <p>Generas aproximadamente:</p>
                <span>{{ resultado }} kg de CO‚ÇÇ por semana</span>
            </div>
            {% endif %}
        </section>

        <section class="tabla-section">
            <h2>
                Niveles de impacto
                <span class="help-icon" tabindex="0">?</span>
            </h2>
            <table class="tabla-huella">
                <thead>
                    <tr>
                        <th>Nivel</th>
                        <th>CO‚ÇÇ semanal (kg)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td class="excelente">Excelente</td><td>0 - 5</td></tr>
                    <tr><td class="bueno">Bueno</td><td>5 - 15</td></tr>
                    <tr><td class="regular">Regular</td><td>15 - 25</td></tr>
                    <tr><td class="malo">Malo</td><td>25 - 35</td></tr>
                    <tr><td class="muy-malo">Muy malo</td><td>M√°s de 35</td></tr>
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>
