<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Huella de Carbono</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function actualizarTexto(nombre) {
            const label = document.getElementById("label-kilometros");
            label.innerText = `Kil√≥metros semanales usando: ${nombre.toLowerCase()}`;
        }

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll('input[name="transporte"]').forEach((input) => {
                input.addEventListener('change', () => actualizarTexto(input.value));
            });
        });
    </script>
</head>
<body>
    <main class="container">
        <section class="card">
            <header>
                <h1 class="titulo">Calculadora de CO‚ÇÇ</h1>
                <p>Ingresa tu medio de transporte y calcula tu huella de carbono semanal.</p>
            </header>

            <form method="POST" class="formulario">
                <div class="grupo">
                    <label for="transporte">Transporte habitual</label>
                    <div class="opciones-transporte">
                        <input type="radio" id="auto" name="transporte" value="Auto" required>
                        <label for="auto">üöó Auto</label>

                        <input type="radio" id="moto" name="transporte" value="Moto">
                        <label for="moto">üèçÔ∏è Moto</label>

                        <input type="radio" id="camion" name="transporte" value="Cami√≥n">
                        <label for="camion">üöå Cami√≥n / Autob√∫s</label>

                        <input type="radio" id="bicicleta" name="transporte" value="Bicicleta">
                        <label for="bicicleta">üö¥‚Äç‚ôÇÔ∏è Bicicleta</label>

                        <input type="radio" id="caminar" name="transporte" value="Caminar">
                        <label for="caminar">üö∂ Caminar</label>

                        <input type="radio" id="jet" name="transporte" value="Jet">
                        <label for="jet">‚úàÔ∏è Jet</label>

                    </div>
                </div>

                <div class="grupo">
                    <label id="label-kilometros" for="kilometros">Kil√≥metros semanales</label>
                    <input type="number" id="kilometros" name="kilometros" required step="0.1" min="0">
                </div>

                <button type="submit">Calcular huella</button>
            </form>

            {% if resultado is not none %}
            <div class="resultado-box {{ nivel }}">
                <p>Usando <strong>{{ transporte }}</strong> y recorriendo <strong>{{ kilometros }}</strong> km semanales, generas aproximadamente:</p>
                <span>{{ resultado }} kg de CO‚ÇÇ por semana</span>
            </div>
            {% endif %}

        </section>

        <section class="tabla-section">
            <h2>
                Niveles de impacto
                <span class="help-icon" tabindex="0">?</span>
            </h2>
            <table class="tabla-huella">
                <thead>
                    <tr>
                        <th>Nivel</th>
                        <th>CO‚ÇÇ semanal (kg)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td class="excelente">Excelente</td><td>0 - 5</td></tr>
                    <tr><td class="bueno">Bueno</td><td>5 - 15</td></tr>
                    <tr><td class="regular">Regular</td><td>15 - 25</td></tr>
                    <tr><td class="malo">Malo</td><td>25 - 35</td></tr>
                    <tr><td class="muy-malo">Muy malo</td><td>M√°s de 35</td></tr>
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>
